/* */ 
"format cjs";
function init_pchcom_gamemanager(e,a,i){PCHGames=PCHGames||{},"MOBILE"==PCH.device&&(a.init.game.width=window.innerWidth,a.init.game.height=window.innerHeight,a.init.game.device=PCH.device.toLocaleLowerCase());var o=PCH.SLOTS||{};Object.assign(e,{iframeParent:document.getElementById("htmlgame_frame_div"),wsURL:a.parentInit.service.url,gameProxyUrl:o.gameProxyURL,cacheBuster:123,videoAdTimeout:700,maxAdDuration:7e4,timeoutDuration:15e3,outlineFrameDiv:"#htmlgame_frame_outline",adHolder:"#iw_outer_ad_holder",callBackFunction:"pchcom_callback",gameOverScreenID:"#iwgos",gameOverScreenHolder:"#gosholder",gameOverScreenAmountHolder:"#amount",width:window.innerWidth,height:window.innerHeight,slotsSpinStart:f,slotsSpinEnd:P,viewPayTable:H,viewHowToPlay:T,viewOfficialRules:b,viewSweepstakesFacts:O,getMoreCoins:A,viewTokenPayout:L});var t,n=a.apiData,s=a.init;s.serviceUri=e.wsURL,s.service&&(s.service.url=s.serviceUri,s.service.data=n);var r=a.parentInit;r&&(r.service.url=e.wsURL);var l=new i(s,{gos:window.GOS});window.location.href.match(/_simulator=1/)&&window.AjaxSimulator&&(console.log("using simulator"),l.service.ajax=window.AjaxSimulator.ajax);var c,d=0,m=0,g=0,u=0,p={0:"",1:"silver",2:"gold",tokenwin:"t_win",tokenloose:"t_loose",cashwin:"cash",techDiff:"t_diff",claimURL:"",gameId:"",gameStartError:!1,tokenWon:0,gos_gatag:""},h=!1,w=!1,v={};PCHGames.initializeGame=function(){if(h)return!1;u=PCH.SLOTS.totalScore,PCHGames.gameId=s.game.id,PCHGames.gameTokenDescription=s.displayTitle,l.loadGame(),c=setTimeout(function(){M({status:0,score:0,tokens:0})},1e4),"MOBILE"!=PCH.device?$(PCHGames.flashContainerId).show():($(".upper-layer").addClass("hidenav"),$(".bonus_progress").addClass("hidden")),_("init"),$(" .slots-iw-cash-win a ").on("click",function(e){e.preventDefault(),"MOBILE"==PCH.device?$(".slots-iw-cash-win").hide():($("#iw_inner_message_holder").children(":not('.slots-iw-cash-win')").removeClass("hide"),$(".slots-iw-cash-win").hide(),$("#iw_message_holder").removeClass()),w&&(w=!1,M(v))})},PCHGames.gameLoad=PCHGames.initializeGame,l.gameModel.onLoaded.then(function(){clearTimeout(c),_("gameload"),"MOBILE"==PCH.device&&$(".slots-iw-cash-win").height(window.innerHeight)});var f=function(e){void 0!==PCH.TAGMANAGER&&PCH.TAGMANAGER.utagview({gpt_page_type:utag_data.gpt_page_type,gpt_refresh:"true"},null,[25]),t=e.body,d++,m=setTimeout(function(){},4e4),o.gameInfo.isTournament&&_("spinstart")},C=function(e){if(!o.gameInfo.isTournament)return!1;$.get("/components/com_pchcom_content/views/article/tmpl/slots-technical-difficulties.php",function(a){$(".game-box.spnsr-slct").append(a),$(".game-box .difficulties-container").addClass("ontopofgame");var i;1==e.body.iw_response.response.success?($(".difficulties-container").addClass("knowscore"),i="Oops, a glitch! Don’t worry – <br/>we saved your score!",$("h3.difficulties-message").after($("<div/>",{class:"tech_diff_score",html:"SCORE = "+e.body.iw_response.response.score+"<br/><div>This score will be applied to your<br/>Total Slots Tournament Score for today!</div>"}))):(i="Oh no! A glitch! Don’t worry,<br/> you won’t lose your spins!",$(".continue-button.no-button").attr("src","/pch_media/images/slots/tryagain-button.png")),$("h3.difficulties-message").html(i),$(".game-box .continue-button").on("click",function(e){e.preventDefault(),window.location.reload()}).removeClass("no-button"),$(".game-box .difficulties-container").fadeIn("slow")})},S=function(){$.ajax({url:r.service.url,data:{jtoken:s.jToken,gameid:s.game.id,apidata:s.apiData,event:"end",gamedata:""}}).done(function(e){M(e)}).fail(function(){window.location.reload()}).always(function(){})},_=function(e){var a="SlotsTournament",i="SlotsTournamentPath";switch(PCH.gaLabel||(PCH.gaLabel=""),s&&s.gaCategoryOverride&&(a=s.gaCategoryOverride),r&&r.gaCategoryOverride&&(i=r.gaCategoryOverride),e){case"pathcomplete":PCHGA.trackEvent(i,e,r.gaDisplayTitle);break;case"init":case"gameload":case"start":case"complete":break;case"spinstart":case"spinend":availabeSpin=t.iw_response.response.result.availableSpins,totalSpins=s.game.slots.machine.totalSpins,currentSpin=totalSpins-availabeSpin,PCHGA.trackEvent(a,e,s.gaDisplayTitle+"/spin "+currentSpin+" Of "+totalSpins)}},P=function(e){if(u+=t.iw_response.response.result.payoutResult.scoreCredited,$(".sl-pr-final-text p").html(addCommas(u)),clearTimeout(m),t.iw_response.response.result.prize){if("MOBILE"==PCH.device){var a=' <div class="sl-pch-logo"></div> <div class="iw-cash-win-txt-bx"> <div>Nice job, <br>you just won </div> <div class="iw-cash-amnt"></div> </div><div class="mob-claim-code">Claim Code: '+t.iw_response.response.result.prize.claimInformation.claimCode+'<span></span></div> <div class="cash-msg">You can expect to receive your prize in the mail within the next 3 - 5 weeks!</div> <a href="#"> <div class="cashwin-button iw-cash-claim"> <img src="/pch_media/images/slots/slot-cl-pr-mob.png"> </div> </a>';$(".slots-iw-cash-win").html(a),$(".slots-iw-cash-win").height(window.innerHeight),$(".iw-cash-amnt").html("$"+addCommas(t.iw_response.response.result.prize.dollarValue)+".00!"),$(".slots-iw-cash-win").show()}else{var i='<div class="iw-cash-win-txt-bx"> <p>Nice job, you just won</p> <p class="iw-cash-amnt"> </p> </div><div class="desk-claim-code">Claim Code: '+t.iw_response.response.result.prize.claimInformation.claimCode+'<span></span></div> <div class="cash-msg">You can expect to receive your prize in the mail within the next 3 - 5 weeks!</div> <a href="#" ><div class="iw-cash-claim"> <img src="/pch_media/images/slots/continue-button.png"/> </div> </a>';$(".slots-iw-cash-win").html(i),$("#iw_inner_message_holder").append($(".slots-iw-cash-win")),$("#iw_inner_message_holder").children(":not('.slots-iw-cash-win')").addClass("hide"),$(".slots-iw-cash-win").show(),$(".iw-cash-amnt").html("$"+addCommas(t.iw_response.response.result.prize.dollarValue)+".00!"),$("#iw_message_holder").addClass("gold cash")}$(".slots-iw-cash-win a ").off().on("click",function(e){e.preventDefault(),"MOBILE"==PCH.device?$(".slots-iw-cash-win").hide():($("#iw_inner_message_holder").children(":not('.slots-iw-cash-win')").removeClass("hide"),$(".slots-iw-cash-win").hide(),$("#iw_message_holder").removeClass()),w&&(w=!1,M(v)),$(".slots-iw-cash-win").html("")}),0===t.iw_response.response.result.availableSpins&&(w=!0)}else 0===t.iw_response.response.result.availableSpins&&(g=setTimeout(S,6e4));d%PCH.SLOTS.gameInfo.midRollSpinThreshold==0&&k({zone:PCH.SLOTS.gameJson.init.midrollAd.adZone,adType:PCH.SLOTS.gameJson.init.midrollAd.adType,adUrl:PCH.SLOTS.gameJson.init.midrollAd.adUrl,adMessage:"Please view this message from our sponsor! <br/> Their support keeps PCH.com free."}),o.gameInfo.isTournament&&_("spinend")},y=function(e,a){var i=jQuery.Event("slotlightbox");i.name=e.event,i.apiUrl=e.ApiUrl,i.needAjax=a,$("#slot-lbox-box").trigger(i)},H=function(e){e.ApiUrl=o.viewPayTableAPI,y(e,!0)},T=function(e){e.ApiUrl=o.viewHowToPlayAPI,y(e,!1)},b=function(e){e.ApiUrl=s.game.rules,y(e,!1)},O=function(e){e.ApiUrl=s.game.policy,y(e,!1)},L=function(e){e.ApiUrl="",y(e,!1)},A=function(){k({zone:s.rescueAd.adZone,adType:s.rescueAd.adType,adUrl:s.rescueAd.adUrl,adMessage:"Please enjoy this sponsored message <br/> while we load you up with coins!"})};orientationTrigger=function(){var e=window.matchMedia("(orientation: landscape)").matches?"l":"p";"l"!=e?($("body").addClass("showerror"),setTimeout(function(){$("#rotate_error").height($("html").height())},1e3),$("#btm_msg span").html("l"==e?"landscape":"portrait")):($("body").removeClass("showerror"),h||($("#htmlgame_frame_div iframe").css({width:window.innerWidth,height:window.innerHeight}),s.game.height=window.innerHeight,s.game.width=window.innerWidth,PCHGames.gameLoad(),h=!0))};var I=function(){1==PCH.SLOTS.remainingGames&&(l.endGame(null),l.gameModel.onEnded.then(function(e,a){_("pathcomplete")}))},k=function(e){return"MOBILE"!=PCH.device?("videoAd"==e.adType&&(e.adType="midrollOrRescueAd"),e.adMessage&&$(".slot-vid-ad-txt").html(e.adMessage),"DESKTOP"===PCH.device?(e.zone&&(alfyad_options.alfyzone=e.zone),e.adType&&PCHAd.showAd(e.adType,"","instantwin",PCH.SLOTS.gaGameName)):PCHAd.showAd("midrollOrRescueAd","","instantwin",PCH.SLOTS.gaGameName)):"MOBILE"==PCH.device&&(PCHAds.showAd(e.adType,{adUrl:e.adUrl}),PCHGA.trackVirtualPageView(document.title,PCH.SLOTS.gaGameName+"/mpAd")),!1},G=function(e){if(console.log("slots game end",e),clearTimeout(g),w)return v=e,!1;PCHGames.slotsGameEnd(e.body),_("complete"),I()},E=function(a){if(clearTimeout(g),w)return v=a,!1;a=a.body,PCHGames.gameId=o.gameInfo.gameId,document.querySelector(e.gameOverScreenAmountHolder).innerHTML="",0!==a.status&&PCHGames.GOSgamesUpdate("#amount",o.gameInfo.isTournament,PCHUSER.type,a.iw_response.response.score,a.iw_response.response.tokens,a.iw_response.response.tokenMultiplier),document.querySelector(e.gameOverScreenHolder).classList.add("t_loose"),document.querySelector(e.gameOverScreenHolder).classList.add(p[PCHUSER.type]),0===a.tokens?($("#congrats_nicejob .t_loose").html("TOO BAD!"),$("#message .silver").html("Create a password to start BANKING TOKENS NOW!")):s.positiveMessage&&$("#congrats_nicejob .t_loose").html(s.positiveMessage),0===a.status&&(document.querySelector(e.gameOverScreenHolder).classList.add("t_diff"),$("#congrats_nicejob .t_loose").html("We are experiencing technical difficulties.")),1==PCHUSER.type&&$("#contBtn div").html("Continue"),document.querySelector(e.outlineFrameDiv).classList.add("hide"),document.querySelector(e.gameOverScreenID).classList.add("show"),$(".upper-layer").removeClass("hidenav"),1!=PCHUSER.type&&$(".bonus_progress").removeClass("hidden"),$("#inner_content").append($(".alltime")),$(".alltime , .leaderboard-holder").show(),PCH.gameEndLeaderBoard(),orientationTrigger=function(){},1==PCHUSER.type&&PCHGA.trackVirtualPageView(document.title,PCHGames.gaGameCategory+"/"+o.gaGameName+"/GameOverSilver"),2==PCHUSER.type&&PCHGA.trackVirtualPageView(document.title,PCHGames.gaGameCategory+"/"+o.gaGameName+"/GameOverGold"),I()},M="MOBILE"!=PCH.device?G:E;l.gameModel.onEnded.then(M).catch(C),pchcom_gamemanager.triggerCallback=function(e){console.log("triggerCallback",e),"function"==typeof l[e.event]&&l[e.event](e)},pchcom_gamemanager.triggerLibFunction=function(e){console.log("triggerLibFunction",e),"function"==typeof l[e]&&l[e]()},"MOBILE"==PCH.device&&(globalOrientationTrigger=function(){},window.addEventListener("orientationchange",function(){setTimeout(orientationTrigger,500)}),orientationTrigger()),l.service.addEventListener(l.service.EVENTS.REQUEST_CALLBACK,function(a,i,o){i?C(i.body):a.params.event&&"function"==typeof e[a.params.event]&&e[a.params.event](o.body)})}function pchcom_callback(e){console.log("pchcom_callback",e),pchcom_gamemanager.triggerCallback(e)}PCHMINIBOOTSTRAP=PCHMINIBOOTSTRAP||{},void 0===PCHMINIBOOTSTRAP.htmlgameBaseURL&&(PCHMINIBOOTSTRAP.htmlgameBaseURL="");var pchcom_gamemanager={};$(document).ready(function(){if(null!==document.querySelector(".tokens-already-banked")){var e=document.querySelector(".tokens-multiplier").innerHTML,a=PCH.SLOTS.tokenMultiplier-1,i=parseInt(e.replace(/,/g,""))/a,o=parseInt(i)+parseInt(e.replace(/,/g,""));document.querySelector(".tokens-already-banked").innerHTML=parseInt(i).toLocaleString(),document.querySelector(".total-tokens-banked").innerHTML=parseInt(o).toLocaleString()}});